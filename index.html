<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Will you be my Valentine?</title>
  <style>
    body{
      margin:0;
      font-family: Arial, sans-serif;
      background: #fff0f6;
      display:flex;
      min-height:100vh;
      align-items:center;
      justify-content:center;
      padding:24px;
      overflow:hidden;
    }

    /* floating hearts layer */
    .hearts {
      position: fixed;
      inset: 0;
      pointer-events: none;
      overflow: hidden;
      z-index: 0;
    }
    .heart {
      position: absolute;
      bottom: -40px;
      font-size: 22px;
      opacity: 0.9;
      animation: floatUp linear forwards;
      filter: drop-shadow(0 6px 10px rgba(0,0,0,.08));
      will-change: transform, opacity;
    }
    @keyframes floatUp {
      0%   { transform: translateY(0) rotate(0deg); opacity: 0; }
      10%  { opacity: 0.95; }
      100% { transform: translateY(-110vh) rotate(18deg); opacity: 0; }
    }

    /* confetti canvas */
    #confetti{
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: 10;
    }

    /* DARK OMBRE CARD */
    .card{
      position:relative;
      z-index: 1;
      width:min(620px, 100%);
      border-radius:22px;
      padding:34px 28px 30px;
      text-align:center;
      background: linear-gradient(135deg, #186E24, #5C24A3);
      box-shadow:
        0 20px 40px rgba(0,0,0,0.35),
        inset 0 0 0 1px rgba(255,255,255,0.08);
    }

    h1{
      margin:0 0 10px;
      color:#FFFFFF;
      text-shadow: 0 2px 8px rgba(0,0,0,0.35);
    }

    p{
      margin:0 0 20px;
      color:#F1F1F1;
    }

    /* subtext effects */
    #subtext{
      transition: color 200ms ease, transform 120ms ease;
    }
    .subtext-shake{
      animation: subShake 220ms ease-in-out;
    }
    @keyframes subShake {
      0%   { transform: translateX(0); }
      25%  { transform: translateX(-4px); }
      50%  { transform: translateX(4px); }
      75%  { transform: translateX(-3px); }
      100% { transform: translateX(0); }
    }

    /* button area */
    .buttons{
      position:relative;
      height:90px;
      display:flex;
      justify-content:center;
      align-items:center;
      gap:16px;
      margin-top:8px;
      overflow:visible;
    }

    button{
      border:0;
      border-radius:16px;
      cursor:pointer;
      font-size:16px;
      font-weight:700;
      padding:12px 18px;
      min-width:150px;
      height:48px;
      user-select:none;
      transition: transform 120ms ease, opacity 250ms ease;
    }

    #yesBtn{
      background:#ff4d88;
      color:white;
      box-shadow: 0 10px 20px rgba(0,0,0,0.20);
    }
    #noBtn{
      background:#ffd6e7;
      color:#b0003a;
      box-shadow: 0 10px 20px rgba(0,0,0,0.14);
    }

    /* when no starts escaping, we switch it to absolute */
    #noBtn.escape {
      position:absolute;
      left:50%;
      top:50%;
      transform: translate(70px, -50%);
    }

    .result{
      display:none;
      margin-top:0;
    }

    /* show full image (no crop) */
    .result img{
      width:100%;
      border-radius:18px;
      object-fit: contain;
      max-height:420px;

      background: rgba(255,255,255,0.92);
      padding: 12px;
      box-sizing: border-box;

      margin-top:16px;
    }

    .small{
      font-size:14px;
      color: rgba(255,255,255,0.75);
      margin-top:14px;
    }

    /* message styling + colors */
    #yayText { color: #FF5A3D; }

    #message{
      font-size: 18px;
      line-height: 1.35;
      margin-top: 4px;
      margin-bottom: 16px;
      text-shadow: 0 2px 10px rgba(0,0,0,0.25);
    }

    .c-404 { color: #FF3B3B; font-weight: 800; }
    .c-surprise { color: #E6F05C; font-weight: 800; }
    .c-val { color: #4DFFD1; font-weight: 800; }
  </style>
</head>
<body>

  <canvas id="confetti"></canvas>

  <div class="hearts" id="hearts"></div>

  <div class="card">
    <h1 id="question">will you be my valentine? ðŸ’˜</h1>
    <p id="subtext">Think Carefully ðŸ¥º</p>

    <div class="buttons" id="btnArea">
      <button id="yesBtn">YES</button>
      <button id="noBtn">no</button>
    </div>

    <div class="result" id="result">
      <h1 id="yayText">YAYYY!! ðŸ’–</h1>

      <p id="message">
        <span class="c-404">Error 404:</span>
        <span class="c-surprise"> Surprise!!</span><br>
        <span class="c-val">Hi, my Valentine ðŸ’˜</span>
      </p>

      <img id="photo"
        src="https://raw.githubusercontent.com/sihayaa/project-404/refs/heads/main/ChatGPT%20Image%20Feb%204%2C%202026%2C%2009_13_10%20AM.png"
        alt="photo" />

      <p class="small">screenshot this moment ðŸ˜Œ</p>
    </div>
  </div>

  <script>
    const noBtn   = document.getElementById("noBtn");
    const yesBtn  = document.getElementById("yesBtn");
    const btnArea = document.getElementById("btnArea");
    const result  = document.getElementById("result");
    const questionEl = document.getElementById("question");
    const subtextEl  = document.getElementById("subtext");

    // shrink settings
    let noScale = 1;
    const shrinkFactor = 0.88; // lower = faster shrink
    const minScale = 0.25;

    // OPTIONAL: make YES grow a bit
    let yesScale = 1;
    const yesGrowFactor = 1.05; // set to 1.0 to disable
    const maxYesScale = 1.6;

    let escaping = false;

    function moveNoButton() {
      const areaRect = btnArea.getBoundingClientRect();
      const btnRect  = noBtn.getBoundingClientRect();

      const padding = 6;
      const maxX = areaRect.width  - btnRect.width  - padding;
      const maxY = areaRect.height - btnRect.height - padding;

      const x = Math.max(padding, Math.random() * maxX);
      const y = Math.max(padding, Math.random() * maxY);

      noBtn.style.left = x + "px";
      noBtn.style.top  = y + "px";

      // keep its scale while escaping
      noBtn.style.transform = `scale(${noScale})`;
    }

    function shrinkNoGrowYes() {
      noScale = Math.max(minScale, noScale * shrinkFactor);
      noBtn.style.transform = `scale(${noScale})`;

      yesScale = Math.min(maxYesScale, yesScale * yesGrowFactor);
      yesBtn.style.transform = `scale(${yesScale})`;
    }

    // Proper Caps messages (15+)
    const warnings = [
      "Think Carefully ðŸ¥º",
      "Are You Absolutely Sure?",
      "This Is A Big Decision ðŸ‘€",
      "You Might Want To Reconsiderâ€¦",
      "No Turning Back After This ðŸ˜¶",
      "Last Chance To Choose Wisely",
      "Your Mouse Seems Confused ðŸ¤”",
      "That Button Is Dangerous",
      "Error Detected: Hesitation",
      "Hmmâ€¦ Interesting Choice",
      "Take A Deep Breath First",
      "Is That Really Your Answer?",
      "Destiny Is Watching ðŸ‘ï¸",
      "This Feels Like A Mistake",
      "Okay Butâ€¦ Why Though?",
      "The Universe Says Try Again âœ¨",
      "You Know What The Right Answer Is ðŸ˜Œ"
    ];

    function shuffle(arr) {
      const a = arr.slice();
      for (let i = a.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [a[i], a[j]] = [a[j], a[i]];
      }
      return a;
    }

    let warningList = shuffle(warnings);
    let warningIndex = 0;
    let hoverCount = 0;

    const finalLine = "Okay..fine you win...";
    const brightSubtextColor = "#FFFFFF";

    noBtn.addEventListener("mouseenter", () => {
      // first hover: switch to escape mode
      if (!escaping) {
        escaping = true;
        noBtn.classList.add("escape");
      }

      hoverCount++;

      // After enough hovers, show the final surrender line
if (hoverCount >= 15) {
  subtextEl.textContent = finalLine;

  // NO button gives up completely
  noBtn.style.opacity = "0";
  noBtn.style.pointerEvents = "none";

  // remove it after fade-out
  setTimeout(() => {
    noBtn.style.display = "none";
  }, 300);

  return; // stop further movement/shrinking
}

       else {
        // No repeats until cycle
        subtextEl.textContent = warningList[warningIndex];
        warningIndex++;

        if (warningIndex >= warningList.length) {
          warningList = shuffle(warnings);
          warningIndex = 0;
        }
      }

      // Shake after 5+ hovers
      if (hoverCount >= 5) {
        subtextEl.classList.remove("subtext-shake"); // restart animation
        void subtextEl.offsetWidth;
        subtextEl.classList.add("subtext-shake");
      }

      // Make text brighter after 10+ hovers (extra readable)
      if (hoverCount >= 10) {
        subtextEl.style.color = brightSubtextColor;
      } else {
        subtextEl.style.color = "";
      }

      // OPTIONAL: slightly faster shrink after 10 hovers
      if (hoverCount >= 10) {
        shrinkNoGrowYes();
      }

      // run + shrink
      shrinkNoGrowYes();
      moveNoButton();
    });

    // -------------------------
    // confetti pop (short)
    // -------------------------
    const confettiCanvas = document.getElementById("confetti");
    const ctx = confettiCanvas.getContext("2d");

    function resizeConfetti() {
      confettiCanvas.width = window.innerWidth;
      confettiCanvas.height = window.innerHeight;
    }
    window.addEventListener("resize", resizeConfetti);
    resizeConfetti();

    function confettiPop(durationMs = 900) {
      const W = confettiCanvas.width;
      const H = confettiCanvas.height;

      const colors = ["#ff4d88", "#ff7ab2", "#ffd6e7", "#a855f7", "#67e4ca", "#fbbf24"];
      const particles = [];
      const count = 160;

      for (let i = 0; i < count; i++) {
        particles.push({
          x: W * (0.35 + Math.random() * 0.30),
          y: H * 0.32,
          vx: (Math.random() - 0.5) * 12,
          vy: -(7 + Math.random() * 11),
          g: 0.35 + Math.random() * 0.28,
          w: 4 + Math.random() * 6,
          h: 3 + Math.random() * 6,
          rot: Math.random() * Math.PI,
          vr: (Math.random() - 0.5) * 0.45,
          color: colors[Math.floor(Math.random() * colors.length)],
          life: 1
        });
      }

      const start = performance.now();

      function frame(t) {
        const elapsed = t - start;
        ctx.clearRect(0, 0, W, H);

        particles.forEach(p => {
          p.vy += p.g;
          p.x += p.vx;
          p.y += p.vy;
          p.rot += p.vr;
          p.life -= 0.012;

          ctx.save();
          ctx.translate(p.x, p.y);
          ctx.rotate(p.rot);
          ctx.globalAlpha = Math.max(0, p.life);
          ctx.fillStyle = p.color;
          ctx.fillRect(-p.w/2, -p.h/2, p.w, p.h);
          ctx.restore();
        });

        if (elapsed < durationMs) {
          requestAnimationFrame(frame);
        } else {
          ctx.clearRect(0, 0, W, H);
        }
      }

      requestAnimationFrame(frame);
    }

    yesBtn.addEventListener("click", () => {
      questionEl.style.display = "none";
      subtextEl.style.display = "none";

      btnArea.style.display = "none";
      result.style.display = "block";

      confettiPop(900);
    });

    const heartsLayer = document.getElementById("hearts");
    const heartEmojis = ["ðŸ’–","ðŸ’œ","ðŸ’š","ðŸ’›","ðŸ’™","ðŸ§¡","â¤ï¸","ðŸ©·"];

    function spawnHeart() {
      const heart = document.createElement("div");
      heart.className = "heart";
      heart.textContent = heartEmojis[Math.floor(Math.random() * heartEmojis.length)];

      const left = Math.random() * 100; // vw
      const size = 16 + Math.random() * 18; // px
      const duration = 3.5 + Math.random() * 3.5; // seconds
      const drift = (Math.random() * 80) - 40; // px

      heart.style.left = left + "vw";
      heart.style.fontSize = size + "px";
      heart.style.animationDuration = duration + "s";
      heart.style.transform = `translateX(${drift}px)`;

      heartsLayer.appendChild(heart);

      setTimeout(() => heart.remove(), (duration * 1000) + 200);
    }

    setInterval(spawnHeart, 220);
  </script>
</body>
</html>
